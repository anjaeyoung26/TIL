## MVC

**모델-뷰-컨트롤러**(model-view-controller, MVC)는 소프트웨어 공학에서 사용되는 소프트웨어 디자인 패턴이다. 이 패턴을 성공적으로 사용하면, 사용자 인터페이스로부터 비즈니스 로직을 분리하여 애플리케이션의 시각적 요소나 그 이면에서 실행되는 비즈니스 로직을 서로 영향 없이 쉽게 고칠 수 있는 애플리케이션을 만들 수 있다. MVC에서 모델은 애플리케이션의 정보(데이터)를 나타내며, 뷰는 텍스트, 체크박스 항목 등과 같은 사용자 인터페이스 요소를 나타내고, 컨트롤러는 데이터와 비즈니스 로직 사이의 상호동작을 관리한다. [출처 - 위키백과](https://ko.wikipedia.org/wiki/%EB%AA%A8%EB%8D%B8-%EB%B7%B0-%EC%BB%A8%ED%8A%B8%EB%A1%A4%EB%9F%AC)

### 구성 요소

- **모델** : 애플리케이션이 무엇을 할 것인지 정의하고 내부 비즈니스 로직을 처리하는 역할을 한다. 모델은 서버에게 네트워크 요청을 하거나 데이터를 관리하기 위해 데이터베이스와 상호 작용하는 로직을 수행한다.
- **뷰** : 데이터를 통해 화면에 표시하는 모든 것이다. 이는 텍스트나 이미지 뿐만 아니라 차트 및 그래프와 같은 정보의 시각화가 포함된다. 데이터는 구현에 따라 컨트롤러 또는 모델에게 전달받는다.
- **컨트롤러** : 사용자가 버튼을 클릭하는 등 동작에 따라 컨트롤러가 모델에게 특정 작업을 요청한다. 그리고 화면에 표시될 내용을 갱신하기 위해 뷰에 업데이트 요청을 한다. 즉 사용자로부터 입력을 받고 모델과 뷰를 중개하는 역할을 한다.

### Traditional MVC

<p align="center">
<img src="https://user-images.githubusercontent.com/61190690/181385913-0fd6ea43-47d0-42b1-97b9-82ddfb1a866c.png" width="450">
</p>

전통적인 *MVC*는 위와 같다. 뷰는 사용자의 입력을 컨트롤러에 전달하고, 이에 따라 컨트롤러는 직접 뷰를 변경시키거나 모델에 업데이트를 요청한다. 그리고 모델의 상태가 변경될 때 뷰에게 알린다. 전통적인 *MVC*는 뷰와 모델이 직접적으로 연결되어 있어 의존성이 높다. 이러한 의존성은 애플리케이션의 크기가 커질수록 높아지며 유지보수에 어려움을 겪게 된다. 또한 뷰와 모델이 독립적이지 못해서 테스트 코드를 작성하기 힘들다.

### Cocoa MVC

<p align="center">
<img src="https://user-images.githubusercontent.com/61190690/181388880-e3b26268-be68-4bf0-ba8c-95481553f445.png" width="450">
</p>

*Cocoa MVC*는 전통적인 *MVC*와 다르게 뷰와 모델이 직접적으로 연결되어 있지 않다. 뷰와 모델은 항상 컨트롤러를 통해 소통하며, 둘은 서로에 대해서 모른다. 이는 전통적인 *MVC*의 문제점인 뷰와 모델 사이의 의존성을 해소할 수 있지만, 뷰와 컨트롤러의 생명주기가 강하게 연결된다. 왜냐하면 컨트롤러의 중재가 없으면 모델의 상태가 변경되더라도 뷰가 알 수 없기 때문이다. 또한 뷰와 컨트롤러가 독립적이지 못해서 여전히 테스트 코드를 작성하기 힘들다.

### 장점

1. 사용자 인터페이스와 비즈니스 로직이 분리되어 병렬적으로 개발할 수 있다. 개발자들은 서로의 작업 영역에 영향을 최소화 하면서 독립적으로 작업할 수 있다.
2. 하나의 모델에 대해 여러 개의 뷰를 만들 수 있다. 다양한 뷰를 개발할 수 있으므로 비즈니스 로직을 분리할 때 코드 중복을 제한할 수 있다.
3. 단순화된 구조를 가지고 있어 개발 속도가 빠르다.

1, 2번은 *MVVM*, *MVP* 등 *MVC* 에서 파생된 아키텍처도 해당된다. 따라서 *MVC* 만의 장점이라고 볼 수 없다. *MVC* 아키텍처를 적용하는 주된 이유는 3번의 빠른 개발 속도이다. 단순한 구조인 만큼 설계가 간편해서 작은 크기의 프로젝트와 어울린다. 또한 다른 아키텍처에 비해 구성 요소의 개수가 적어서 러닝 커브가 낮기 때문에 초급 개발자도 어렵지 않게 사용할 수 있다.

### 단점

1. 모델과 뷰는 하나의 컨트롤러를 통해 소통한다. 복잡한 화면과 데이터의 구성이 필요할 때 컨트롤러에 다수의 모델과 뷰가 복잡하게 연결될 수 있다. 이러한 뷰와 모델의 의존성은 애플리케이션이 커질수록 더 높아지며 컨트롤러가 점차 비대해진다. 이를 빗대어 *Massive ViewController* 라고 한다.

<p align="center">
<img src="https://user-images.githubusercontent.com/61190690/181267716-5d76db8f-d0fc-4a59-a060-15bb0672b382.png" width="500">
</p>

2. 코드의 일관성을 유지하기 위해 MVC 패턴에 대해 잘 이해해야 한다. 각 섹션이 자신들의 책임에서 벗어나지 않게 주의해야 한다. 하지만 프로젝트의 크기가 커질수록 각 섹션의 역할도 늘어나기 때문에 완벽한 설계가 아닌 이상 서로의 영역을 침범하게 된다.

### 일관성을 유지하는 방법

1. 모델은 컨트롤러와 뷰에 의존해서는 안된다. 모델은 순수하게 데이터를 처리하는 비즈니스 로직에 대한 역할만 수행한다.
2. 뷰는 모델에만 의존한다. 이는 뷰에서 사용되는 값은 오로지 모델에서 전달된 값이어야 하며, 컨트롤러가 이를 전달해야 한다.
3. 뷰는 모델로부터 사용자마다 상이한 데이터만 전달받아야 한다. 공통된 정보에 대해서는 뷰가 자체적으로 소유해야 한다.